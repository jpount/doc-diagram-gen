# Project Configuration for Claude Code

## Project Overview
- **Project Name:** {{PROJECT_NAME}}
- **Analysis Mode:** {{ANALYSIS_MODE}}
- **Documentation Mode:** {{DOCUMENTATION_MODE}}
- **Codebase Location:** codebase/{{PROJECT_PATH}}
- **Framework Version:** 2.0

## Analysis Configuration

### Current Settings
- **Analysis Focus:** {{ANALYSIS_FOCUS}}
- **Modernization:** {{MODERNIZATION_ENABLED}}
- **User Interaction:** {{USER_INTERACTION}}
- **Repomix:** {{REPOMIX_STATUS}}
- **Serena MCP:** {{SERENA_STATUS}}
- **Token Strategy:** Repomix-first (80% reduction)

{{MODERNIZATION_CONSTRAINTS}}

## Quick Commands

### ðŸ”´ CRITICAL: Start Analysis
```bash
# 1. Generate Repomix summary (REQUIRED FOR EFFICIENCY)
repomix --config .repomix.config.json codebase/{{PROJECT_PATH}}/

# 2. Verify Repomix output exists
ls -la output/reports/repomix-summary.md

# 3. Check token monitor
python3 framework/scripts/token_monitor.py report

# 4. Start analysis in Claude Code with agents below
```

## Available Agents

### Core Analysis Agents (All Modes)
- `@mcp-orchestrator` - Coordinate MCP usage and strategy
- `@repomix-analyzer` - Analyze compressed codebase summary
- `@legacy-code-detective` - Deep dive into codebase structure
- `@business-logic-analyst` - Extract business rules and logic
- `@performance-analyst` - Identify bottlenecks and issues
- `@security-analyst` - Find vulnerabilities and risks
- `@diagram-architect` - Create visual documentation
- `@documentation-specialist` - Generate comprehensive docs

{{MODERNIZATION_AGENTS}}

## Workflow for {{DOCUMENTATION_MODE}} Mode

{{WORKFLOW_STEPS}}

## Output Locations
- **Documentation:** `output/docs/`
- **Diagrams:** `output/diagrams/`
- **Reports:** `output/reports/`
- **Context Summaries:** `output/context/`

## MCP Tools Available
{{MCP_TOOLS}}

## Token Budget Guidelines
- **Project Size:** {{PROJECT_SIZE}}
- **Total Budget:** {{TOKEN_BUDGET}}
- **With Repomix:** ~50,000 tokens (80% reduction)
- **Without Repomix:** ~250,000+ tokens (5x more!)
- **Strategy:** Repomix â†’ Serena â†’ Raw (enforced hierarchy)

## Key Files to Review
- `ANALYSIS_MODE.md` - Current analysis configuration
- `DOCUMENTATION_MODE.md` - Documentation generation settings
{{TARGET_TECH_STACK_FILE}}
- `framework/docs/USER_INTERACTION_GUIDE.md` - User interaction guidance
- `framework/docs/MODERNIZATION_CONSTRAINTS.md` - Agent modernization guidelines
- `framework/templates/CONTEXT_SUMMARY_SCHEMA.md` - Agent communication format

## Project-Specific Notes
{{PROJECT_NOTES}}

## Troubleshooting

### MCPs Not Available
1. Ensure `.mcp.json` exists in project root
2. Restart Claude Code after configuration
3. Check MCP logs in Claude Code settings
4. Verify MCP servers are installed (npm/uvx)

### Analysis Issues
1. **FIRST**: Ensure Repomix summary exists
   - `ls -la output/reports/repomix-summary.md`
   - If missing: `repomix --config .repomix.config.json codebase/{{PROJECT_PATH}}/`
2. Check token usage efficiency
   - `python3 framework/scripts/token_monitor.py report`
   - Should show >80% Repomix usage
3. Ensure codebase is in `codebase/{{PROJECT_PATH}}/`
4. Check agent output in `output/docs/`

## Next Steps
{{NEXT_STEPS}}

---
*Generated by setup on {{SETUP_DATE}}*